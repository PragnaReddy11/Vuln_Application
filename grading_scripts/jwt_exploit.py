import datetime
import jwt
from jwt.algorithms import get_default_algorithms
# import requests

if __name__ =="__main__":
    PUBLIC_KEY = "ssh-ed25519 AAAAC3NzaC1lZDI1NTE5AAAAIDSNdxHMKkMoh/JPtDWFI8BG78DAa3YWDkhtwyiq64gG"
    payload = {
        "role": "admin",
        "username": "admin",
        "exp": datetime.datetime.now(datetime.timezone.utc) + datetime.timedelta(minutes=15)
    }
    token = jwt.encode(payload, PUBLIC_KEY, algorithm="HS256")
    print(token)
    
    decoded_token = jwt.decode(token, PUBLIC_KEY, algorithms=get_default_algorithms())
    print(decoded_token)


